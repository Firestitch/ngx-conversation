<div class="heading-container">
  <div class="heading">
    <a 
        *ngIf="hasAdminConversationRole; else conversationParticipants"
        class="participants"
        (click)="settingsOpen('participants')">
      <ng-container *ngTemplateOutlet="conversationParticipants"></ng-container>
    </a>     
    <span>{{conversation.name}}</span>
  </div>
  <app-conversation-state 
    [conversation]="conversation">
  </app-conversation-state> 
  <div class="actions">      
    <button
      *ngIf="hasAdminConversationRole"
      type="button"
      tabindex="-1"
      (click)="participantAdd()"
      mat-icon-button>
    <mat-icon>person_add_alt_1</mat-icon>
    </button> 
    <button
      *ngIf="hasAdminConversationRole"
      type="button"
      tabindex="-1"
      (click)="settingsOpen()"
      mat-icon-button>
    <mat-icon>settings</mat-icon>
    </button> 
  </div>          
</div>

<ng-template #conversationParticipants>
  <app-conversation-participants
    [conversationParticipants]="conversation.conversationParticipants"
    [count]="conversation.conversationParticipantCount">
  </app-conversation-participants>     
</ng-template>